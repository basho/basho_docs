////
/// Application-Wide Sass Mixins
/// ============================
////

/// Event wrapper
/// @author Harry Roberts
/// @link https://twitter.com/csswizardry/status/478938530342006784 Original tweet from Harry Roberts
/// @param {Bool} $self [false] - Whether or not to include current selector
@mixin on-event($self: false) {
  @if $self {
    &,
    &:hover,
    &:active,
    &:focus {
      @content;
    }
  } @else {
    &:hover,
    &:active,
    &:focus {
      @content;
    }
  }
}


/// Make a context based selector a little more friendly
/// @author Hugo Giraudel
/// @param {String} $context
@mixin when-inside($context) {
  #{$context} & {
    @content;
  }
}


/// Aliases for Bootstrap's `media-breakpoint-up`; makes the @content apply to
/// the given breakpoint and wider.
/// @author Drew Pirrone-Brusse
/// @alias media-breakpoint-up
/// @param {String} $name - Breakpoint name; 'sm', 'md', 'lg', or 'xl'
/// @param {Map} $breakpoint [$grid-breakpoints] - Map of (name: min-width)
@mixin wide-from($name, $breakpoints: $grid-breakpoints) {
  @include media-breakpoint-up($name, $breakpoints) {
    @content;
  }
}

/// Aliases for Bootstrap's `media-breakpoint-down`; makes the @content apply to
/// the given breakpoint and narrower.
/// @author Drew Pirrone-Brusse
/// @alias media-breakpoint-down
/// @param {String} $name - Breakpoint name; 'sm', 'md', 'lg', or 'xl'
/// @param {Map} $breakpoint [$grid-breakpoints] - Map of (name: min-width)
@mixin narrow-from($name, $breakpoints: $grid-breakpoints) {
  @include media-breakpoint-down($name, $breakpoints) {
    @content;
  }
}


/// Set position: relative, and vertically aligns content within the parent.
/// @author Sebastian Ekstr√∂m
/// @link http://zerosixthree.se/vertical-align-anything-with-just-3-lines-of-css/
///TODO: Determine the requirements for this. Parent must be [inline-]block?
@mixin pos-relative-vertical-align {
  position:  relative;
  top:       50%;
  transform: translateY(-50%);
}


/// Given a property and px value(s), outputs rem value and px fallbacks
/// @author Ray Brown (edited by Drew Pirrone-Brusse)
/// @link https://github.com/bitmanic/rem/blob/master/stylesheets/_rem.scss
/// @requires {variable} $font-size-root - Set in _configurations.scss
/// @param {String}      $property  - Property name
/// @param {Number|List} $px-values - One or more px values
@mixin rem($property, $px-values) {
  // Convert the root size into rem
  $baseline-rem: $font-size-root / 1rem * 1;
  // Print px values first, so supported browsers can override w/ rem
  #{$property}: $px-values;
  // If there is only one (numeric) value, return the property/value line for it.
  @if type-of($px-values) == "number" {
    #{$property}: $px-values / $baseline-rem; }
  @else {
    // Create an empty list that we can dump values into
    $rem-values: ();
    @each $value in $px-values {
      // If the value is zero or not a number, return it
      @if $value == 0 or type-of( $value ) != "number" {
        $rem-values: append($rem-values, $value); }
      @else {
        $rem-values: append($rem-values, $value / $baseline-rem); } }
    // Return the property and its list of converted values
    #{$property}: $rem-values;
  }
}


// base = top or bottom
// point = bottom or top
// size = size of the base
//TODO: Audit this mixin & write a SassDoc for it.
@mixin arrowVertical($base, $point,  $size, $color) {
  width            : 0;
  border           : #{$size} solid transparent;
  border-#{$base}  : #{$size} solid #{$color};
  border-#{$point} : none;
}


/// Apply border radius to all corners
/// @author Eric Redmond
/// @author Drew Pirrone-Brusse
/// @param {Number} radius [.5rem] - Radius of the corner to apply
@mixin rounded-corners($radius: .5rem) {
  border-radius: $radius;
}


/// Apply border radius to specific corner
/// @author Eric Redmond
/// @author Drew Pirrone-Brusse
/// @param {String} vert           - `top` or `bottom`
/// @param {String} horiz          - `left` or `right`
/// @param {Number} radius [.5rem] - Radius of the corner to apply
@mixin rounded-corner($vert, $horiz, $radius: .5rem) {
  border-#{$vert}-#{$horiz}-radius : $radius;
}
