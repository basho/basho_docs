<!-- Variable Definitions
   ====================
  This partial should be invoked with a dict containing the below members,
    "node"       :: The Hugo node that started the sub-menu recursion.
    "menu_title" :: The title of the menu to render (ex; "riak_kv-2.1.4",
                    "community")

{{ $HugoNode   := .node       }}
{{ $menu_title := .menu_title }}
{{ $menu_list  := (index $HugoNode.Site.Menus $menu_title) }} {{/* GoLang List of Menu Objects */}}
-->

<nav class="overflow-y   content-nav">



  <div class="content-nav__banner   [bs] hidden-md-up">

    <span class="inline-block float-right   content-nav__banner-element-wrapper">
      <div class="menu-bars   js_toggle-content-nav"></div>
    </span>

    <span class="block">This is the sm-only banner. Interactive elements for the win.</span>

  </div>



  <div class="content-nav__top">

    <form class="search">

      <span class="block float-left   search__icon-container   docs-icon--search">|</span>

      <span class="block overflow">
        <input class="search__input" id="primary-search" type="search" name="search" placeholder="Search">
      </span>

    </form>



    <div class="content-nav__menu-container">

      <ul class="content-menu
                 content-menu--depth-0
                 content-menu--open">

{{- range $menu := $menu_list }}

<!-- Range-Specific Variable Definitions
     ===================================
{{ $menu_is_selected       := ($HugoNode.IsMenuCurrent  $menu_title $menu)     }} {{/* If the current menu is selected            */}}
{{ $menu_contains_selected := ($HugoNode.HasMenuCurrent $menu_title $menu)     }} {{/* If a child of the current menu is selected */}}
{{ $menu_is_open           := (or  $menu_is_selected  $menu_contains_selected) }}
{{ $menu_pre_icon          := $menu.Pre                                        }} {{/* User defined. ex; lambda */}}
{{ $menu_has_children      := $menu.HasChildren                                }} {{/* Provided by Hugo         */}}
{{ $menu_name              := $menu.Name                                       }} {{/* Provided by Hugo         */}}
{{ $menu_url               := $menu.URL                                        }} {{/* Provided by Hugo         */}}
-->
        <li>

          <div class="content-menu__item {{if $menu_is_selected }} content-menu__item--selected {{end}}">

            <span class="block float-left   content-menu__icon-container   docs-icon--{{$menu_pre_icon}}">|</span>

  {{- if $menu_has_children }}
            <span class="block float-right   content-menu__menu-toggle
                        {{if $menu_is_open}} content-menu__menu-toggle--open {{end}}">
            </span>
  {{- end }}

            <a class="block overflow" {{if not $menu_is_selected}} href="{{$menu_url}}" {{end}}>
              <strong>{{$menu_name}}</strong>
            </a>

          </div>

  {{- if $menu_has_children }}
          {{ $dict := (dict   "node" $HugoNode   "top_menu" $menu   "menu_title" $menu_title   "menu_depth" 1   "menu_is_open" $menu_is_open) }}
          {{ partial "content_navigation_submenu.html" $dict }}
  {{- end }}

        </li>

{{- end }}

      </ul>

    </div>

  </div>


  <div class="content-nav__fixed-bottom" style="text-align:center; line-height:56px; border-top: 1px solid rgb(212,217,222);">

    <span class="block">
      This is the fixed bottom
    </span>

  </div>



</nav>
